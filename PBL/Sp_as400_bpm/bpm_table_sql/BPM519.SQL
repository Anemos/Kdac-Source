--  Generate SQL 
--  Version:                   	V5R3M0 040528 
--  Generated on:              	09/06/02 15:07:34 
--  Relational Database:       	I520 
--  Standards Option:          	DB2 UDB iSeries 
--  사업계획 상황진행 정보

DROP TABLE PBBPM.BPM519;

CREATE TABLE PBBPM.BPM519 ( 
	COMLTD CHAR(2) CCSID 833 NOT NULL ,           --회사
	XYEAR CHAR(4) CCSID 833 NOT NULL ,            --년도
	REVNO CHAR(2) CCSID 833 NOT NULL ,            --버전
	WINDOWID VARCHAR(20) CCSID 833 NOT NULL ,     --윈도우ID
	SEQNO CHAR(3) CCSID 833 NOT NULL ,            --작업순번
	TASKNAME VARCHAR(100) CCSID 933 NOT NULL ,    --작업명
	TASKSTATUS CHAR(1) CCSID 833 NOT NULL ,       --작업상태('G','C')
	JOBSTART VARCHAR(19) CCSID 833 NOT NULL ,     --작업시작일시
	JOBEND VARCHAR(19) CCSID 833 NOT NULL ,       --작업완료일시
	TASKMANAGER CHAR(6) CCSID 833 NOT NULL ,      --작업시스템담당자
	INGFLAG CHAR(1) CCSID 833 NOT NULL ,          --해당년도완료여부('G','C')
	DEPTCODE VARCHAR(5) CCSID 833 NOT NULL ,      --담당부서
	JOBEMPNO CHAR(6) CCSID 833 NOT NULL ,         --담당자
	JOBEMPNO2 CHAR(6) CCSID 833 NOT NULL ,        --담당자2
	IPADDR VARCHAR(30) CCSID 933 NOT NULL ,       --IP ADDRESS
	MACADDR VARCHAR(30) CCSID 933 NOT NULL ,      --MAC ADDRESS
	LASTEMP CHAR(6) CCSID 833 NOT NULL ,          --최종수정자
	LASTDATE VARCHAR(19) CCSID 833 NOT NULL ,     --최종수정일시
	PRIMARY KEY( COMLTD , XYEAR, REVNO, WINDOWID ) ) ;
	
INSERT INTO PBBPM.BPM519
( COMLTD,XYEAR,REVNO,WINDOWID,SEQNO,TASKNAME,TASKSTATUS,JOBSTART,
JOBEND,TASKMANAGER,INGFLAG,DEPTCODE,JOBEMPNO,JOBEMPNO2,IPADDR,MACADDR,LASTEMP,LASTDATE )
SELECT COMLTD,XYEAR,CASE WHEN XYEAR = '2010' THEN '0D' ELSE '0A' END,WINDOWID,SEQNO,TASKNAME,TASKSTATUS,JOBSTART,
JOBEND,TASKMANAGER,INGFLAG,DEPTCODE,JOBEMPNO,JOBEMPNO2,IPADDR,MACADDR,LASTEMP,LASTDATE
FROM PBTEST.BPM519;